<div class="header">
  <div class="clickable" (click)="navigateHome()">
    <mat-icon>home</mat-icon>
  </div>
  <div class="logo">CaféGourmet</div>
  <button (click)="logout()" class="logout-button">
    <mat-icon>logout</mat-icon>
  </button>
</div>
<div class="container">
  <div class="card">
    <h2>Identificação</h2>
    <div class="editable">
      <label for="name">Nome: </label>
      <input type="text" id="name" [(ngModel)]="userData.name">
    </div>
    <div class="editable">
      <label for="cpf">CPF: </label>
      <input type="text" id="cpf" [(ngModel)]="userData.cpf" (ngModelChange)="onCpfChange()">
      <div *ngIf="cpfError" style="color: red;">{{ cpfError }}</div>
    </div>   
  </div>
  <div class="card">
    <h2>Contato</h2>
    <div class="editable">
      <label for="email">Email: </label>
      <input type="email" id="email" [value]="userData.email" readonly>
    </div>
    <div class="editable">
      <label for="phone">Celular: </label>
      <input type="text" id="phone" [(ngModel)]="userData.contact_phone" (ngModelChange)="onPhoneChange()">
      <div *ngIf="phoneError" style="color: red;">{{ phoneError }}</div>
    </div>
  </div>
  <div class="card">
    <h2>Endereço</h2>
    <div class="editable">
      <label for="address">Endereço: </label>
      <input type="text" id="address" [(ngModel)]="userData.address">
    </div>
  </div>
  <div class="card">
    <h2>Ordens</h2>
    <ul class="orders-list">
      <li *ngFor="let order of userData.orders" (click)="goToOrderDetails(order.id_car)">
        <div class="order-item">
          <p class="order-id" (mouseover)="hoverOrderId(true)" (mouseout)="hoverOrderId(false)">
            Order ID: {{ order.id }}
          </p>
          <p class="order-status">Status: {{ order.status }}</p>
        </div>
      </li>
    </ul>
  </div>
  <div class="buttons">
    <button mat-raised-button color="primary" (click)="saveChanges()">Salvar</button>
    <button mat-raised-button color="warn" (click)="cancelChanges()">Cancelar</button>
  </div>
</div>